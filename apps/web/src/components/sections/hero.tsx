import { RichText } from "../richtext";
import SanityImage from "../sanity-image";
import { HeroProps } from "@/lib/sanity/queries/sections";
import { twMerge } from "tailwind-merge";

const heroSVG = (
  <svg viewBox="0 0 1677 184" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M65.9745 3.75319C109.624 3.75319 139.476 26.8321 139.476 66.9693C139.476 106.605 109.624 129.684 65.9745 129.684H55.1876V179.354H0.500685V3.75319H65.9745ZM55.1876 51.9179V82.2716H67.4797C77.2631 82.2716 84.538 76.7528 84.538 67.2202C84.538 57.9384 77.2631 51.9179 67.4797 51.9179H55.1876ZM147.243 3.75319H202.18V127.928H261.383V179.354H147.243V3.75319ZM332.691 3.75319H383.364L452.099 179.354H395.155L386.625 155.773H327.925L319.646 179.354H263.956L332.691 3.75319ZM357.526 68.2236L343.227 110.368H371.574L357.526 68.2236ZM520.691 105.601V179.354H465.753V105.601L404.544 3.75319H466.757L493.849 54.1756L521.193 3.75319H581.9L520.691 105.601ZM691.641 118.144V179.354H636.954V3.75319H743.317V52.9213H691.641V68.9762H743.317V118.144H691.641ZM937.681 91.5534C937.681 141.976 895.286 183.116 843.86 183.116C792.184 183.116 750.04 141.976 750.04 91.5534C750.04 41.3818 792.184 -0.0096694 843.86 -0.0096694C895.286 -0.0096694 937.681 41.3818 937.681 91.5534ZM881.489 91.5534C881.489 70.2305 864.932 53.1721 843.86 53.1721C822.788 53.1721 806.232 70.2305 806.232 91.5534C806.232 112.876 822.788 129.935 843.86 129.935C864.932 129.935 881.489 112.876 881.489 91.5534ZM999.812 125.921V179.354H945.626V3.75319H1011.85C1055 3.75319 1084.35 25.8287 1084.35 65.4642C1084.35 88.5431 1072.56 105.601 1055.5 115.636L1097.65 179.354H1033.93L1002.07 125.921H999.812ZM999.812 51.9179V82.2716H1012.86C1022.39 82.2716 1029.66 76.5019 1029.66 67.2202C1029.66 57.6876 1022.39 51.9179 1012.86 51.9179H999.812ZM1102.41 179.354V3.75319H1212.04V52.9213H1157.1V67.7219H1212.04V114.883H1157.1V130.185H1212.54V179.354H1102.41ZM1331.81 179.354H1282.89L1216.66 3.75319H1275.11L1308.73 99.5808L1341.84 3.75319H1398.54L1331.81 179.354ZM1403.98 179.354V3.75319H1513.61V52.9213H1458.67V67.7219H1513.61V114.883H1458.67V130.185H1514.11V179.354H1403.98ZM1578.94 125.921V179.354H1524.75V3.75319H1590.98C1634.13 3.75319 1663.48 25.8287 1663.48 65.4642C1663.48 88.5431 1651.69 105.601 1634.63 115.636L1676.77 179.354H1613.06L1581.2 125.921H1578.94ZM1578.94 51.9179V82.2716H1591.98C1601.52 82.2716 1608.79 76.5019 1608.79 67.2202C1608.79 57.6876 1601.52 51.9179 1591.98 51.9179H1578.94Z"
      fill="currentColor"
    />
  </svg>
);

export function HeroBlock({
  title,
  image,
  richText,
  video,
  mediaType,
}: HeroProps) {
  return (
    <div id="hero" className="h-screen relative">
      {mediaType === "image" && image && (
        <SanityImage
          src={image}
          className="absolute inset-0 w-full h-full object-cover"
        />
      )}
      {mediaType === "video" && video && (
        <video
          src={video}
          autoPlay
          muted
          loop
          className="absolute inset-0 w-full h-full object-cover"
        />
      )}
      <div
        className="wrapper py-fluid-xs h-full flex flex-col justify-end relative z-[1]"
        // initial={{
        //   opacity: 0,
        // }}
        // animate={{
        //   opacity: 1,
        // }}
        // transition={{
        //   duration: 0.5,
        //   ease: "easeInOut",
        // }}
      >
        <RichText
          richText={richText}
          className="max-w-p prose-white mb-fluid-xs"
        />
        <h2 className={twMerge("sr-only")}>{title}</h2>
        {heroSVG}
      </div>
    </div>
  );
}
